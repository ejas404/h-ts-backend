import{$ as L,Ac as M,Bc as T,Db as j,Dc as O,Ic as P,J as v,Jc as D,K as a,Kc as N,Nc as U,Oa as C,Oc as q,Pa as A,Q as m,Ra as k,Rc as z,Sa as V,Ub as g,V as o,W as c,Wb as I,X as s,Xa as S,Yb as y,b as h,bc as F,ga as f,ja as b,la as w,nc as $,oc as d,p,w as l,yb as R,zc as E}from"./chunk-PO7YGL3B.js";var Q=()=>({exact:!0}),G=(()=>{let i=class i{};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=l({type:i,selectors:[["app-admin-sidebar"]],decls:27,vars:2,consts:[[1,"text-center","children:my-2","text-gray"],["routerLink","/admin","routerLinkActive","text-white",3,"routerLinkActiveOptions"],["name","bootstrapGrid1x2Fill",1,"text-[2rem]","block"],["routerLink","/admin/students","routerLinkActive","text-white"],["name","bootstrapPeopleFill",1,"text-[2rem]","block"],["routerLink","/admin/tutors","routerLinkActive","text-white"],["name","bootstrapPersonCircle",1,"text-[2rem]","block"],["routerLink","/admin/courses","routerLinkActive","text-white"],["name","bootstrapFileEarmarkMedicalFill",1,"text-[2rem]","block"],["routerLink","/admin/others","routerLinkActive","text-white"],["name","bootstrapGearFill",1,"text-[2rem]","block"]],template:function(e,r){e&1&&(o(0,"aside")(1,"ul",0)(2,"li")(3,"a",1),s(4,"ng-icon",2),o(5,"p"),f(6,"dashboard"),c()()(),o(7,"li")(8,"a",3),s(9,"ng-icon",4),o(10,"p"),f(11,"students"),c()()(),o(12,"li")(13,"a",5),s(14,"ng-icon",6),o(15,"p"),f(16,"tutors"),c()()(),o(17,"li")(18,"a",7),s(19,"ng-icon",8),o(20,"p"),f(21,"courses"),c()()(),o(22,"li")(23,"a",9),s(24,"ng-icon",10),o(25,"p"),f(26,"Others"),c()()()()()),e&2&&(v(3),m("routerLinkActiveOptions",w(1,Q)))},dependencies:[k,V,j]});let n=i;return n})();var oe=(()=>{let i=class i{constructor(t,e){this.store=t,this.service=e,this.destroy$=new h}ngOnInit(){this.store.dispatch(F()),this.fetchCourseData()}fetchCourseData(){this.service.getCourses().pipe(p(this.destroy$)).subscribe({next:t=>{this.store.dispatch($({successResponse:t}))},error:t=>{console.log(t)}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};i.\u0275fac=function(e){return new(e||i)(a(S),a(d))},i.\u0275cmp=l({type:i,selectors:[["app-admin-page"]],features:[b([d])],decls:8,vars:1,consts:[[3,"user"],[1,"w-full","h-[calc(100vh-3rem)]","px-[7rem]","py-[1rem]"],[1,"bg-admin-primary","w-full","h-full","flex","justify-between","rounded-xl"],[1,"sidebar","w-[8rem]","flex","items-center","justify-center"],[1,"adminpages","flex-1","p-4"],[1,"bg-white","w-full","h-full","rounded-r-lg","rounded-tl-lg"]],template:function(e,r){e&1&&(s(0,"app-navbar",0),o(1,"main",1)(2,"section",2)(3,"div",3),s(4,"app-admin-sidebar"),c(),o(5,"div",4)(6,"section",5),s(7,"router-outlet"),c()()()()),e&2&&m("user","admin")},dependencies:[A,g,G]});let n=i;return n})();var he=(()=>{let i=class i{constructor(t,e,r,u,J,K){this.activateRoute=t,this.store=e,this.service=r,this.courseService=u,this.dialogRef=J,this.toastService=K,this.destroy$=new h}ngOnInit(){let t=this.activateRoute.snapshot.params.id;this.course_id=t,this.fetchCourseData(t),this.setCourseData(t),this.fetchCourseVideoList(t)}fetchCourseData(t){this.service.getSingleCourse(t).pipe(p(this.destroy$)).subscribe({next:e=>{this.store.dispatch(E(e))},error:e=>{console.log(e)}})}setCourseData(t){this.store.select(O).pipe(p(this.destroy$)).subscribe({next:e=>{this.courseDetails=e},error:e=>{console.log(e)}})}fetchCourseVideoList(t){this.courseService.getCourseVideoList(t,"admin").pipe(p(this.destroy$)).subscribe({next:e=>{this.courseVideoList=e.courseVideoList},error:e=>{console.log(e)}})}updateCover(){let t=this.course_id;this.dialogRef.open(T,{data:{id:t}})}editCourse(){this.dialogRef.open(P,{data:{id:this.course_id,calledFor:"admin"}})}approveCourse(){this.service.approveCourseRequest(this.course_id).pipe(p(this.destroy$)).subscribe({next:t=>{this.store.dispatch(M(t)),this.toastService.success("Course approval successfully completed")},error:t=>{this.toastService.fail(t.error.message||"Course approval failed to complete")}})}addCourseVideo(){this.dialogRef.open(N,{height:"90vh",width:"90%",data:{course_id:this.course_id,calledFor:"admin"}})}cancelApprove(){}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};i.\u0275fac=function(e){return new(e||i)(a(C),a(S),a(d),a(y),a(R),a(I))},i.\u0275cmp=l({type:i,selectors:[["app-single-course-admin"]],features:[b([d])],decls:2,vars:7,consts:[[3,"user"],[3,"user","bg","text","bg_section_list","courseDetails","videoList","approveCourse","disAppproveCourse","edit","cover","video"]],template:function(e,r){e&1&&(s(0,"app-navbar",0),o(1,"single-course-reusable",1),L("approveCourse",function(){return r.approveCourse()})("disAppproveCourse",function(){return r.cancelApprove()})("edit",function(){return r.editCourse()})("cover",function(){return r.updateCover()})("video",function(){return r.addCourseVideo()}),c()),e&2&&(m("user","admin"),v(1),m("user","admin")("bg","bg-admin-primary")("text","text-white")("bg_section_list","bg-zinc-200")("courseDetails",r.courseDetails)("videoList",r.courseVideoList))},dependencies:[g,q]});let n=i;return n})();var _e=(()=>{let i=class i{constructor(t,e,r,u){this.activateRoute=t,this.dbcService=e,this.dbVideoService=r,this.courseService=u,this.destroy$=new h}ngOnInit(){let t=this.activateRoute.snapshot.params.id,e=this.activateRoute.snapshot.params.video;this.fetchCourseData(t),this.fetchCourseVideoList(t),this.fetchVideo(e)}fetchCourseData(t){this.dbcService.getSingleCourse(t).pipe(p(this.destroy$)).subscribe({next:e=>{this.courseDetails=e.courseDetails},error:e=>{console.log(e)}})}fetchCourseVideoList(t){this.courseService.getCourseVideoList(t,"course").pipe(p(this.destroy$)).subscribe({next:e=>{this.courseVideoList=e.courseVideoList},error:e=>{console.log(e)}})}fetchVideo(t){this.dbVideoService.getVideo(t,"admin").pipe(p(this.destroy$)).subscribe({next:e=>{this.videoDetails=e.video},error:e=>{console.log(e)}})}};i.\u0275fac=function(e){return new(e||i)(a(C),a(d),a(D),a(y))},i.\u0275cmp=l({type:i,selectors:[["admin-video-preview"]],features:[b([d,D])],decls:5,vars:9,consts:[[3,"user"],[1,"course-class","px-10","my-3","flex"],[1,"basis-2/3",3,"course","video"],[1,"secions-list","1/3","w-[40%]"],[3,"user","bg","text","bg_section_list","videoList","courseDetails"]],template:function(e,r){e&1&&(s(0,"app-navbar",0),o(1,"section",1),s(2,"video-preview",2),o(3,"div",3),s(4,"course-sections-list",4),c()()),e&2&&(m("user","admin"),v(2),m("course",r.courseDetails)("video",r.videoDetails),v(2),m("user","admin")("bg","bg-admin-primary")("text","text-white")("bg_section_list","bg-zinc-200")("videoList",r.courseVideoList)("courseDetails",r.courseDetails))},dependencies:[g,z,U]});let n=i;return n})();export{oe as a,he as b,_e as c};
